# 引导页组件说明

## 组件结构

### 1. WelcomeGuide.vue
**职责**：纯圆环动画组件，负责显示彩色进度圆环和中心齿轮图标

**特性**：
- 5 段彩色圆环（绿、紫、橙、红、青）
- 支持动态进度控制（通过 props 传入进度值）
- 内部 100 根刻度线装饰
- 中心红色齿轮图标（Iconify）
- 圆环呼吸动画效果

**Props**：
- `segmentProgress`: Array<number> - 5 个分段的进度值（0-100）

**使用示例**：
```vue
<WelcomeGuide :segment-progress="[100, 50, 0, 0, 0]" />
```

---

### 2. GuidePage.vue
**职责**：完整的引导页面，整合圆环、标题、表单和导航

**特性**：
- 三栏布局：左侧标题 | 中间圆环 | 右侧表单
- 5 个引导步骤：欢迎 → 基本信息 → 偏好设置 → 高级设置 → 完成
- 表单进度自动更新圆环进度
- 标题上下滑动切换动画
- 表单淡入淡出动画
- 毛玻璃效果表单卡片
- DaisyUI 风格按钮和表单组件

**页面流程**：
1. **第 0 步（欢迎页）**：只显示标题和圆环，第一个分段激活
2. **第 1 步（基本信息）**：填写用户名和邮箱，第二个分段根据填写进度显示
3. **第 2 步（偏好设置）**：选择语言和主题，第三个分段根据选择进度显示
4. **第 3 步（高级设置）**：3 个开关选项，第四个分段根据选项数量显示
5. **第 4 步（完成）**：显示配置摘要，第五个分段激活

**使用示例**：
```vue
<GuidePage />
```

---

### 3. ThemeToggle.vue
**职责**：亮色/暗色主题切换组件

**特性**：
- 太阳/月亮图标切换
- 动画旋转效果
- 持久化到 localStorage

**使用示例**：
```vue
<ThemeToggle />
```

---

## 主题系统

### useTheme.js
**职责**：全局主题状态管理

**功能**：
- 初始化主题（从 localStorage 读取）
- 切换主题（亮色 ↔ 暗色）
- 应用主题到 DOM
- 持久化主题设置

**API**：
```javascript
import { useTheme } from '@/composables/useTheme'

const { theme, toggleTheme, setTheme } = useTheme()

// 获取当前主题
console.log(theme.value) // 'light' | 'dark'

// 切换主题
toggleTheme()

// 设置指定主题
setTheme('dark')
```

---

## 配置说明

### Tailwind Config
只保留 `light` 和 `dark` 两个 DaisyUI 主题：

```javascript
daisyui: {
  themes: ["light", "dark"],
}
```

---

## 圆环缺口修复

原问题：圆环第一个分段（绿色）缺口偏左

**修复方案**：
- 移除 `transform="rotate(-90 300 300)"` 的旋转
- 改为 `transform="rotate(0 300 300)"`
- 圆环现在从正上方（12 点钟方向）开始绘制

---

## 响应式设计

- 大屏（> 1400px）：三栏布局
- 小屏（< 1400px）：单栏垂直布局
- 圆环自适应缩放（max-width: 600px）

---

## 动画说明

1. **圆环呼吸**：透明度 1 → 0.7 → 1，3 秒循环
2. **标题滑动**：上下切换，0.6s cubic-bezier 缓动
3. **表单切换**：淡入淡出 + 左右平移，0.4s
4. **进度更新**：实时计算表单填写进度

---

## 单一职责原则

✅ **WelcomeGuide**：只负责圆环动画和进度显示  
✅ **GuidePage**：负责页面布局、流程控制和数据管理  
✅ **ThemeToggle**：只负责主题切换  
✅ **useTheme**：只负责主题状态管理  

每个组件都遵循单一职责原则，便于维护和复用。
